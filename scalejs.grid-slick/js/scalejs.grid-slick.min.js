define("scalejs.grid-slick/observableDataview",["knockout","slick.grid"],function(e,n){var t=e.isObservable,i=e.computed;return function(e){function o(){return t(e.itemsCount)?e.itemsCount():e.itemsSource().length}function r(e){return f?f[e]:null}function s(e){var n=f[e];return n?n.metadata:null}function c(){var n=0;t(e.itemsCount)?e.itemsCount.subscribe(function(e){a.notify({previous:n,current:e},null,null),n=e}):i({read:function(){var t=e.itemsSource()||[],i=t.length;a.notify({previous:n,current:i},null,null),n=i}})}function l(){i({read:function(){var n,t,i,o=e.itemsSource()||[],r=[];n=Object.keys(f).map(function(e){return parseInt(e,10)}),t=o.map(function(e){return e.index}),i=n.except(t).toArray(),i.forEach(function(e){delete f[e]}),r=o.filter(function(e){return f[e.index]!==e}).map(function(e){return f[e.index]=e,e.index}),r.length>0&&d.notify({rows:r},null,null)}})}function u(){l(),c()}var a=new n.Event,d=new n.Event,f={};if(!t(e.itemsSource))throw new Error("`itemsSource` must be an observableArray.");return{getLength:o,getItem:r,getItemMetadata:s,subscribe:u,onRowCountChanged:a,onRowsChanged:d}}}),define("scalejs.grid-slick/observableFilters",["jQuery","knockout"],function(e,n){return function(){function t(t){t.onHeaderRowCellRendered.subscribe(function(t,i){var o=e(i.node),r=o[0],s=i.column.filter;s&&(o.html('<input type="text" data-bind="value: value, valueUpdate: \'afterkeydown\'"/>'),n.applyBindings(s,r))})}function i(){}return{init:t,destroy:i}}}),define("scalejs.grid-slick/changesFlasher",["scalejs!core"],function(e){return function(n){function t(e){function t(){var t,o;for(o=0;o<e.getDataLength();o+=1)t=e.getDataItem(o),r(t)&&(i[t[n.key]]=t)}var i={};n.fields=r(n.fields)?n.fields:e.getColumns().map(function(e){return e.field}),e.getData().onRowsChanged.subscribe(function(c,l){var u=l.rows,a=(new Date).getTime().toString(),d="flash_chaged_"+a,f="flash_changes_"+a,g=o(r(e.getCellCssStyles(d))||{}),b=o(r(e.getCellCssStyles(f))||{});u.forEach(function(t){var o,c,l,u,a;o=e.getDataItem(t),r(o)&&(c=i[o[n.key]],r(c)&&r(c)&&c!==o&&(l=s(c,o,n.fields),u={},a={},Object.keys(l).forEach(function(e){var n=l[e][0],t=l[e][1];t>n&&(a[e]="slick-cell-changed-up",u[e]="slick-cell-changed"),n>t&&(a[e]="slick-cell-changed-down",u[e]="slick-cell-changed")}),g[t]=u,b[t]=a))}),e.setCellCssStyles(d,g),e.setCellCssStyles(f,b),t(),setTimeout(function(){e.removeCellCssStyles(f)},100),setTimeout(function(){e.removeCellCssStyles(d)},n.speed)})}function i(){}var o=e.object.clone,r=e.object.has,s=e.object.diff,c=e.object.merge;return n=c({speed:1e3,key:"id"},n),{init:t,destroy:i}}}),define("scalejs.grid-slick/slickGrid",["scalejs!core","require","knockout","jQuery","slick.grid","./observableDataview","./observableFilters","./changesFlasher"],function(e,n,t,i,o,r){function s(t,s){function c(){v=r(s),v.onRowCountChanged.subscribe(function(){m.updateRowCount(),m.render()}),v.onRowsChanged.subscribe(function(e,n){var t,i;t=m.getRenderedRange(),i=n.rows.filter(function(e){return e>=t.top&&e<=t.bottom}),i.length>0&&(m.invalidateRows(i),m.render())})}function u(){l(s.sorting)&&(m.onSort.subscribe(function(e,n){if(n.multiColumnSort)throw new Error("Multi column sort is not implemented");var t={};t[n.sortCol.field]=n.sortAsc,s.sorting(t)}),s.sorting.subscribe(function(e){var n=Object.keys(e),t=n[0];m.setSortColumn(t,e[t])}))}function a(){var e;s.explicitInitialization=!0,m=new o.Grid(t,v,s.columns,s),i(t).data("slickgrid",m),m.setSelectionModel(new o.RowSelectionModel),s.plugins?(e=Object.keys(s.plugins).map(function(e){return["observableFilters","changesFlasher"].indexOf(e)>=0?"./"+e:e}),n(e,function(){var e,n,t;for(e=0;e<arguments.length;e+=1)t=arguments[e],n=t(s.plugins[t.name]),m.registerPlugin(n);m.init()})):m.init(),m.setSelectionModel(new o.RowSelectionModel),m.init()}function d(){v.subscribe()}function f(){l(s.selectedItem)&&m.getSelectionModel().onSelectedRangesChanged.subscribe(function(){var e,n;e=m.getSelectedRows(),n=m.getDataItem(e[0]),s.selectedItem(n)})}function g(){l(s.viewport)&&(m.onViewportChanged.subscribe(function(){var e=m.getViewport();s.viewport(e)}),s.viewport.subscribe(function(e){m.scrollRowIntoView(e.top)}))}function b(){e.layout.onLayoutDone&&e.layout.onLayoutDone(function(){if(m.resizeCanvas(),l(s.viewport)){var e=m.getViewport();s.viewport(e)}})}var v,m;c(),a(),d(),f(),u(),g(),b()}function c(e,n,t){var i=t(),o=i.slickGrid;return s(e,o),{controlsDescendantBindings:!0}}var l=t.isObservable;return{init:c}}),define("scalejs.grid-slick",["./scalejs.grid-slick/slickGrid","knockout","scalejs.linq-linqjs"],function(e,n){n.bindingHandlers.slickGrid=e});